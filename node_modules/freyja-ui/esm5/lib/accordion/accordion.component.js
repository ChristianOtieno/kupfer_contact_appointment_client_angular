import * as tslib_1 from "tslib";
// Angular Imports
import { Component, Input, Output, EventEmitter } from '@angular/core';
// Internal Imports
import { BaseComponent } from '../shared/base.component';
/**
 * Counter for Next Id
 */
var nextId = 0;
/**
 * Freyja Accordion Component according to specifics of Freyja Design
 */
var AccordionComponent = /** @class */ (function (_super) {
    tslib_1.__extends(AccordionComponent, _super);
    function AccordionComponent() {
        var _this = _super.call(this) || this;
        // This is to make component open state controlled
        _this.isOpen = false;
        /**
         * Provide unique ID or it will use auto generated from counter
         */
        _this.id = "fj-accordion-" + ++nextId;
        /**
         * Will emit if open state get's changed on click
         */
        _this.change = new EventEmitter(false);
        return _this;
    }
    Object.defineProperty(AccordionComponent.prototype, "open", {
        /**
         * Will determine if acordion is expanded or not
         */
        get: function () {
            return this.isOpen;
        },
        set: function (val) {
            if (val !== this.isOpen) {
                this.isOpen = this.coerceBooleanInput(val);
            }
        },
        enumerable: true,
        configurable: true
    });
    /**
     * Will toggle open state and emit on Change event
     * @param evt HTML Click Event
     */
    AccordionComponent.prototype.toggleState = function (evt) {
        evt.stopPropagation();
        this.open = !this.open;
        this.change.emit(this.open);
    };
    /**
     * Generate classes using BEM appraoch and bind to ngClass
     */
    AccordionComponent.prototype.generateClassList = function () {
        var _a;
        var base = 'fj-accordion--';
        var classes = (_a = {},
            _a[base + "open"] = this.open,
            _a[base + "disabled"] = this.disabled,
            _a[base + "label-after"] = this.labelPosition === 'after',
            _a);
        return classes;
    };
    AccordionComponent.decorators = [
        { type: Component, args: [{
                    selector: 'fj-accordion',
                    template: "<div class=\"fj-accordion\"\n     [id]=\"id\"\n     [ngClass]=\"generateClassList()\">\n  <div class=\"fj-accordion__header\"\n       (click)=\"toggleState($event)\">\n    <label>{{label}}</label>\n  </div>\n  <div class=\"fj-accordion__content\">\n    <ng-content></ng-content>\n  </div>\n</div>",
                    styles: ["@font-face{font-family:open-sans;font-weight:400;src:url(/assets/fonts/OpenSans-Regular.eot?) format(\"eot\"),url(/assets/fonts/OpenSans-Regular.woff) format(\"woff\"),url(/assets/fonts/OpenSans-Regular.ttf) format(\"truetype\"),url(/assets/fonts/OpenSans-Regular.svg#open-sans) format(\"svg\")}@font-face{font-family:open-sans;font-weight:600;src:url(/assets/fonts/OpenSans-Bold.eot?) format(\"eot\"),url(/assets/fonts/OpenSans-Bold.woff) format(\"woff\"),url(/assets/fonts/OpenSans-Bold.ttf) format(\"truetype\"),url(/assets/fonts/OpenSans-Bold.svg#open-sans) format(\"svg\")}.fj-accordion label{display:block;font-weight:700;padding-bottom:.6875rem;padding-top:.6875rem;transition:.2s linear;cursor:pointer}.fj-accordion label::before{border-right:1px solid;border-top:1px solid;content:'';display:inline-block;height:6px;margin:0 1rem 0 .25rem;-webkit-transform:rotate(45deg);transform:rotate(45deg);-webkit-transform-origin:80% 40%;transform-origin:80% 40%;transition:.2s linear;width:6px}.fj-accordion__header{display:flex;cursor:pointer}.fj-accordion__content{max-height:0;opacity:0;overflow:hidden;padding:0 1.25rem;transition:.2s linear .1s;border:1px solid rgba(0,0,0,.15)}.fj-accordion--disabled{color:rgba(0,0,0,.25);pointer-events:none}.fj-accordion--open .fj-accordion__content{max-height:15em;opacity:1;overflow:auto;padding:.6875rem 1.25rem}.fj-accordion--open label::before{-webkit-transform:rotate(135deg);transform:rotate(135deg)}.fj-accordion--label-after>div{justify-content:flex-end}"]
                }] }
    ];
    /** @nocollapse */
    AccordionComponent.ctorParameters = function () { return []; };
    AccordionComponent.propDecorators = {
        id: [{ type: Input }],
        open: [{ type: Input }],
        change: [{ type: Output }]
    };
    return AccordionComponent;
}(BaseComponent));
export { AccordionComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWNjb3JkaW9uLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL2ZyZXlqYS11aS8iLCJzb3VyY2VzIjpbImxpYi9hY2NvcmRpb24vYWNjb3JkaW9uLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsa0JBQWtCO0FBQ2xCLE9BQU8sRUFBRSxTQUFTLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxZQUFZLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFdkUsbUJBQW1CO0FBQ25CLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQztBQUd6RDs7R0FFRztBQUNILElBQUksTUFBTSxHQUFHLENBQUMsQ0FBQztBQUVmOztHQUVHO0FBQ0g7SUFLd0MsOENBQWE7SUE2Qm5EO1FBQUEsWUFDRSxpQkFBTyxTQUNSO1FBNUJELGtEQUFrRDtRQUMxQyxZQUFNLEdBQUcsS0FBSyxDQUFDO1FBRXZCOztXQUVHO1FBQ00sUUFBRSxHQUFHLGtCQUFnQixFQUFFLE1BQVEsQ0FBQztRQWV6Qzs7V0FFRztRQUNPLFlBQU0sR0FBMEIsSUFBSSxZQUFZLENBQVUsS0FBSyxDQUFDLENBQUM7O0lBSTNFLENBQUM7SUFqQkQsc0JBQ0ksb0NBQUk7UUFKUjs7V0FFRzthQUNIO1lBRUUsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDO1FBQ3JCLENBQUM7YUFDRCxVQUFTLEdBQVk7WUFDbkIsSUFBSSxHQUFHLEtBQUssSUFBSSxDQUFDLE1BQU0sRUFBRTtnQkFDdkIsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsa0JBQWtCLENBQUMsR0FBRyxDQUFDLENBQUM7YUFDNUM7UUFDSCxDQUFDOzs7T0FMQTtJQWdCRDs7O09BR0c7SUFDSCx3Q0FBVyxHQUFYLFVBQVksR0FBRztRQUNiLEdBQUcsQ0FBQyxlQUFlLEVBQUUsQ0FBQztRQUN0QixJQUFJLENBQUMsSUFBSSxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQztRQUN2QixJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7SUFBRSxDQUFDO0lBRWpDOztPQUVHO0lBQ0ksOENBQWlCLEdBQXhCOztRQUNFLElBQU0sSUFBSSxHQUFHLGdCQUFnQixDQUFDO1FBQzlCLElBQU0sT0FBTztZQUNYLEdBQUksSUFBSSxTQUFNLElBQUcsSUFBSSxDQUFDLElBQUk7WUFDMUIsR0FBSSxJQUFJLGFBQVUsSUFBRyxJQUFJLENBQUMsUUFBUTtZQUNsQyxHQUFJLElBQUksZ0JBQWEsSUFBRyxJQUFJLENBQUMsYUFBYSxLQUFLLE9BQU87ZUFDdkQsQ0FBQztRQUNGLE9BQU8sT0FBTyxDQUFDO0lBQ2pCLENBQUM7O2dCQTFERixTQUFTLFNBQUM7b0JBQ1QsUUFBUSxFQUFFLGNBQWM7b0JBQ3hCLG9UQUF5Qzs7aUJBRTFDOzs7OztxQkFVRSxLQUFLO3VCQUtMLEtBQUs7eUJBYUwsTUFBTTs7SUEyQlQseUJBQUM7Q0FBQSxBQTNERCxDQUt3QyxhQUFhLEdBc0RwRDtTQXREWSxrQkFBa0IiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBBbmd1bGFyIEltcG9ydHNcbmltcG9ydCB7IENvbXBvbmVudCwgSW5wdXQsIE91dHB1dCwgRXZlbnRFbWl0dGVyIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbi8vIEludGVybmFsIEltcG9ydHNcbmltcG9ydCB7IEJhc2VDb21wb25lbnQgfSBmcm9tICcuLi9zaGFyZWQvYmFzZS5jb21wb25lbnQnO1xuXG5cbi8qKlxuICogQ291bnRlciBmb3IgTmV4dCBJZFxuICovXG5sZXQgbmV4dElkID0gMDtcblxuLyoqXG4gKiBGcmV5amEgQWNjb3JkaW9uIENvbXBvbmVudCBhY2NvcmRpbmcgdG8gc3BlY2lmaWNzIG9mIEZyZXlqYSBEZXNpZ25cbiAqL1xuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnZmotYWNjb3JkaW9uJyxcbiAgdGVtcGxhdGVVcmw6ICcuL2FjY29yZGlvbi5jb21wb25lbnQuaHRtbCcsXG4gIHN0eWxlVXJsczogWycuL2FjY29yZGlvbi5jb21wb25lbnQuc2NzcyddXG59KVxuZXhwb3J0IGNsYXNzIEFjY29yZGlvbkNvbXBvbmVudCBleHRlbmRzIEJhc2VDb21wb25lbnQge1xuXG5cbiAgLy8gVGhpcyBpcyB0byBtYWtlIGNvbXBvbmVudCBvcGVuIHN0YXRlIGNvbnRyb2xsZWRcbiAgcHJpdmF0ZSBpc09wZW4gPSBmYWxzZTtcblxuICAvKipcbiAgICogUHJvdmlkZSB1bmlxdWUgSUQgb3IgaXQgd2lsbCB1c2UgYXV0byBnZW5lcmF0ZWQgZnJvbSBjb3VudGVyXG4gICAqL1xuICBASW5wdXQoKSBpZCA9IGBmai1hY2NvcmRpb24tJHsrK25leHRJZH1gO1xuXG4gIC8qKlxuICAgKiBXaWxsIGRldGVybWluZSBpZiBhY29yZGlvbiBpcyBleHBhbmRlZCBvciBub3RcbiAgICovXG4gIEBJbnB1dCgpXG4gIGdldCBvcGVuKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmlzT3BlbjtcbiAgfVxuICBzZXQgb3Blbih2YWw6IGJvb2xlYW4pIHtcbiAgICBpZiAodmFsICE9PSB0aGlzLmlzT3Blbikge1xuICAgICAgdGhpcy5pc09wZW4gPSB0aGlzLmNvZXJjZUJvb2xlYW5JbnB1dCh2YWwpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBXaWxsIGVtaXQgaWYgb3BlbiBzdGF0ZSBnZXQncyBjaGFuZ2VkIG9uIGNsaWNrXG4gICAqL1xuICBAT3V0cHV0KCkgY2hhbmdlOiBFdmVudEVtaXR0ZXI8Ym9vbGVhbj4gPSBuZXcgRXZlbnRFbWl0dGVyPGJvb2xlYW4+KGZhbHNlKTtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIFdpbGwgdG9nZ2xlIG9wZW4gc3RhdGUgYW5kIGVtaXQgb24gQ2hhbmdlIGV2ZW50XG4gICAqIEBwYXJhbSBldnQgSFRNTCBDbGljayBFdmVudFxuICAgKi9cbiAgdG9nZ2xlU3RhdGUoZXZ0KTogdm9pZCB7XG4gICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIHRoaXMub3BlbiA9ICF0aGlzLm9wZW47XG4gICAgdGhpcy5jaGFuZ2UuZW1pdCh0aGlzLm9wZW4pOyAgfVxuXG4gIC8qKlxuICAgKiBHZW5lcmF0ZSBjbGFzc2VzIHVzaW5nIEJFTSBhcHByYW9jaCBhbmQgYmluZCB0byBuZ0NsYXNzXG4gICAqL1xuICBwdWJsaWMgZ2VuZXJhdGVDbGFzc0xpc3QoKSB7XG4gICAgY29uc3QgYmFzZSA9ICdmai1hY2NvcmRpb24tLSc7XG4gICAgY29uc3QgY2xhc3NlcyA9IHtcbiAgICAgIFtgJHtiYXNlfW9wZW5gXTogdGhpcy5vcGVuLFxuICAgICAgW2Ake2Jhc2V9ZGlzYWJsZWRgXTogdGhpcy5kaXNhYmxlZCxcbiAgICAgIFtgJHtiYXNlfWxhYmVsLWFmdGVyYF06IHRoaXMubGFiZWxQb3NpdGlvbiA9PT0gJ2FmdGVyJ1xuICAgIH07XG4gICAgcmV0dXJuIGNsYXNzZXM7XG4gIH1cbn1cbiJdfQ==