import { Component, EventEmitter, Input, Output, ElementRef } from '@angular/core';
var ModalComponent = /** @class */ (function () {
    function ModalComponent(eRef) {
        this.eRef = eRef;
        /**
         * Content of the modal window
         */
        this.modalContent = {};
        /**
         * an output that will be emitted on an action is triggered in the modal
         * @type {EventEmitter<any>}
         */
        this.actionClicked = new EventEmitter();
        /**
         * flag to show or hide the modal
         * @type {boolean}
         */
        this.showModal = false;
    }
    ModalComponent.prototype.ngOnInit = function () {
        if (!this.size) {
            this.size = 'small';
        }
    };
    /**
     * fired when an action has been clicked
     * @param evt - click event
     * @param actionType - type of the action that has been fired
     */
    ModalComponent.prototype.onActionClicked = function (evt, actionType) {
        if (evt.stopPropagation) {
            evt.stopPropagation();
        }
        else {
            actionType = evt;
        }
        this.actionClicked.emit(actionType);
        this.showModal = false;
    };
    /**
     * this function avoid closing the modal when clicking on its content
     * @param evt
     */
    ModalComponent.prototype.modalClicked = function (evt) {
        evt.stopPropagation();
    };
    ModalComponent.decorators = [
        { type: Component, args: [{
                    selector: 'fj-modal',
                    template: "<div class=\"modal\" [ngClass]=\"{'modal--hidden': !showModal}\" (click)=\"showModal = false\">\n  <!-- Modal content -->\n  <div class=\"modal__content\" (click)=\"modalClicked($event)\" [ngClass]=\"{'modal__content--big': size === 'big', 'modal__content--small': size === 'small'}\" [ngStyle]=\"customStyles\" >\n    <span class=\"modal__content__close\" (click)=\"onActionClicked($event, 'close')\">&times;</span>\n    <div class=\"modal__content__top\">\n      <h3 *ngIf=\"modalContent.title\" class=\"modal__content__top__title\">{{modalContent.title}}</h3>\n    </div>\n    <div class=\"modal__content__body\">\n      <p *ngIf=\"modalContent.text\">{{modalContent.text}}</p>\n      <ng-content select=\"[modal-content]\"></ng-content>\n    </div>\n    <div class=\"modal__content__bottom\">\n      <fj-button class=\"modal__content__button\" *ngIf=\"modalContent.primaryAction\" (click)=\"onActionClicked($event, 'primary')\">{{modalContent.primaryAction.label}}</fj-button>\n      <fj-button class=\"modal__content__button\" *ngIf=\"modalContent.dangerAction\" (click)=\"onActionClicked($event, 'danger')\" [color]=\"'danger'\">{{modalContent.dangerAction.label}}</fj-button>\n      <fj-button class=\"modal__content__button\" *ngIf=\"modalContent.secondaryAction\" (click)=\"onActionClicked($event, 'secondary')\" [color]=\"'light'\">{{modalContent.secondaryAction.label}}</fj-button>\n    </div>\n  </div>\n</div>\n",
                    styles: ["@font-face{font-family:open-sans;font-weight:400;src:url(/assets/fonts/OpenSans-Regular.eot?) format(\"eot\"),url(/assets/fonts/OpenSans-Regular.woff) format(\"woff\"),url(/assets/fonts/OpenSans-Regular.ttf) format(\"truetype\"),url(/assets/fonts/OpenSans-Regular.svg#open-sans) format(\"svg\")}@font-face{font-family:open-sans;font-weight:600;src:url(/assets/fonts/OpenSans-Bold.eot?) format(\"eot\"),url(/assets/fonts/OpenSans-Bold.woff) format(\"woff\"),url(/assets/fonts/OpenSans-Bold.ttf) format(\"truetype\"),url(/assets/fonts/OpenSans-Bold.svg#open-sans) format(\"svg\")}.modal{position:fixed;z-index:999;left:0;top:0;width:100%;height:100%;background-color:rgba(0,0,0,.4)}.modal--hidden{display:none}.modal__content{position:relative;display:flex;flex-direction:column;background-color:#fff;margin:10% auto;padding:1.5625rem;border:1px solid #888;box-shadow:0 1px 4px 0 rgba(0,0,0,.3)}.modal__content--big{max-width:60%}.modal__content--small{max-width:40%}.modal__content__top{display:flex;align-items:center}.modal__content__top__title{flex:80%;margin:0}.modal__content__body{display:flex;flex-wrap:wrap}.modal__content__bottom{display:flex;flex-direction:row-reverse;flex-wrap:wrap}.modal__content__close{position:absolute;right:.9375rem;top:.4375rem;color:rgba(0,0,0,.45);font-weight:lighter;font-size:20px}.modal__content__close:focus,.modal__content__close:hover{color:#000;text-decoration:none;cursor:pointer}.modal__content__button{margin-right:.3125rem}"]
                }] }
    ];
    /** @nocollapse */
    ModalComponent.ctorParameters = function () { return [
        { type: ElementRef }
    ]; };
    ModalComponent.propDecorators = {
        modalContent: [{ type: Input }],
        size: [{ type: Input }],
        customStyles: [{ type: Input }],
        actionClicked: [{ type: Output }]
    };
    return ModalComponent;
}());
export { ModalComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kYWwuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6Im5nOi8vZnJleWphLXVpLyIsInNvdXJjZXMiOlsibGliL21vZGFsL21vZGFsLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUMsU0FBUyxFQUFFLFlBQVksRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFVLFVBQVUsRUFBQyxNQUFNLGVBQWUsQ0FBQztBQUd6RjtJQThCRSx3QkFDVSxJQUFnQjtRQUFoQixTQUFJLEdBQUosSUFBSSxDQUFZO1FBekIxQjs7V0FFRztRQUNNLGlCQUFZLEdBQWlCLEVBQUUsQ0FBQztRQVN6Qzs7O1dBR0c7UUFDTyxrQkFBYSxHQUFzQixJQUFJLFlBQVksRUFBRSxDQUFDO1FBRWhFOzs7V0FHRztRQUNILGNBQVMsR0FBRyxLQUFLLENBQUM7SUFJZCxDQUFDO0lBRUwsaUNBQVEsR0FBUjtRQUNFLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFO1lBQ2QsSUFBSSxDQUFDLElBQUksR0FBRyxPQUFPLENBQUM7U0FDckI7SUFDSCxDQUFDO0lBQ0Q7Ozs7T0FJRztJQUNJLHdDQUFlLEdBQXRCLFVBQXVCLEdBQUcsRUFBRSxVQUFtQjtRQUM3QyxJQUFJLEdBQUcsQ0FBQyxlQUFlLEVBQUU7WUFDdkIsR0FBRyxDQUFDLGVBQWUsRUFBRSxDQUFDO1NBQ3ZCO2FBQU07WUFDTCxVQUFVLEdBQUcsR0FBRyxDQUFDO1NBQ2xCO1FBQ0QsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDcEMsSUFBSSxDQUFDLFNBQVMsR0FBRyxLQUFLLENBQUM7SUFDekIsQ0FBQztJQUVEOzs7T0FHRztJQUNILHFDQUFZLEdBQVosVUFBYSxHQUFHO1FBQ2QsR0FBRyxDQUFDLGVBQWUsRUFBRSxDQUFDO0lBQ3hCLENBQUM7O2dCQTVERixTQUFTLFNBQUM7b0JBQ1QsUUFBUSxFQUFFLFVBQVU7b0JBQ3BCLDQ1Q0FBcUM7O2lCQUV0Qzs7OztnQkFQdUQsVUFBVTs7OytCQVkvRCxLQUFLO3VCQUlMLEtBQUs7K0JBSUwsS0FBSztnQ0FLTCxNQUFNOztJQXdDVCxxQkFBQztDQUFBLEFBOURELElBOERDO1NBekRZLGNBQWMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0NvbXBvbmVudCwgRXZlbnRFbWl0dGVyLCBJbnB1dCwgT3V0cHV0LCBPbkluaXQsIEVsZW1lbnRSZWZ9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtNb2RhbENvbnRlbnR9IGZyb20gJy4vbW9kYWwtb3B0aW9ucyc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2ZqLW1vZGFsJyxcbiAgdGVtcGxhdGVVcmw6ICcuL21vZGFsLmNvbXBvbmVudC5odG1sJyxcbiAgc3R5bGVVcmxzOiBbJy4vbW9kYWwuY29tcG9uZW50LnNjc3MnXVxufSlcbmV4cG9ydCBjbGFzcyBNb2RhbENvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG4gIC8qKlxuICAgKiBDb250ZW50IG9mIHRoZSBtb2RhbCB3aW5kb3dcbiAgICovXG4gIEBJbnB1dCgpIG1vZGFsQ29udGVudDogTW9kYWxDb250ZW50ID0ge307XG4gIC8qKlxuICAgKiBzaXplIG9mIHRoZSBtb2RhbFxuICAgKi9cbiAgQElucHV0KCkgc2l6ZTogJ3NtYWxsJyB8ICdiaWcnO1xuICAvKipcbiAgICogY3VzdG9tIHN0eWxlc1xuICAgKi9cbiAgQElucHV0KCkgY3VzdG9tU3R5bGVzO1xuICAvKipcbiAgICogYW4gb3V0cHV0IHRoYXQgd2lsbCBiZSBlbWl0dGVkIG9uIGFuIGFjdGlvbiBpcyB0cmlnZ2VyZWQgaW4gdGhlIG1vZGFsXG4gICAqIEB0eXBlIHtFdmVudEVtaXR0ZXI8YW55Pn1cbiAgICovXG4gIEBPdXRwdXQoKSBhY3Rpb25DbGlja2VkOiBFdmVudEVtaXR0ZXI8YW55PiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICAvKipcbiAgICogZmxhZyB0byBzaG93IG9yIGhpZGUgdGhlIG1vZGFsXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKi9cbiAgc2hvd01vZGFsID0gZmFsc2U7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSBlUmVmOiBFbGVtZW50UmVmXG4gICkgeyB9XG5cbiAgbmdPbkluaXQoKSB7XG4gICAgaWYgKCF0aGlzLnNpemUpIHtcbiAgICAgIHRoaXMuc2l6ZSA9ICdzbWFsbCc7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBmaXJlZCB3aGVuIGFuIGFjdGlvbiBoYXMgYmVlbiBjbGlja2VkXG4gICAqIEBwYXJhbSBldnQgLSBjbGljayBldmVudFxuICAgKiBAcGFyYW0gYWN0aW9uVHlwZSAtIHR5cGUgb2YgdGhlIGFjdGlvbiB0aGF0IGhhcyBiZWVuIGZpcmVkXG4gICAqL1xuICBwdWJsaWMgb25BY3Rpb25DbGlja2VkKGV2dCwgYWN0aW9uVHlwZT86IHN0cmluZykge1xuICAgIGlmIChldnQuc3RvcFByb3BhZ2F0aW9uKSB7XG4gICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFjdGlvblR5cGUgPSBldnQ7XG4gICAgfVxuICAgIHRoaXMuYWN0aW9uQ2xpY2tlZC5lbWl0KGFjdGlvblR5cGUpO1xuICAgIHRoaXMuc2hvd01vZGFsID0gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogdGhpcyBmdW5jdGlvbiBhdm9pZCBjbG9zaW5nIHRoZSBtb2RhbCB3aGVuIGNsaWNraW5nIG9uIGl0cyBjb250ZW50XG4gICAqIEBwYXJhbSBldnRcbiAgICovXG4gIG1vZGFsQ2xpY2tlZChldnQpIHtcbiAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gIH1cblxufVxuIl19